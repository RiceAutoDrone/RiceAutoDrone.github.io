<!doctype html>
<html lang="en-US"><head>
   <meta charset="utf-8">
    <!-- Chulapa Jekyll Theme - v1.0.1.dev -->
    <!--  MIT License-->
    <!-- Docs: https://dieghernan.github.io/chulapa -->
    <!-- Repo: https://github.com/dieghernan/chulapa -->
    <!-- Page build 2023-03-24 01:22:58 -0500 -->
    <!--Google Structured Data-->
    <script type="application/ld+json">
        {
      "@context": "https://schema.org",
	  "@type": "Article",
      "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "http://localhost:4000/raspberrypi_settings/02-mavproxy"
      },
      "headline": "MavProxy Settings",
      "image": "https://github.com/RiceAutoDrone.png",
      "datePublished": "2023-03-24T01:22:58-05:00",
      "dateModified": "2023-03-24T01:22:58-05:00",
      "author": {
        "@type": "Person",
        "name": "Yu Che Lin"
      },
       "publisher": {
        "@type": "Organization",
        "name": "Yu Che Lin",
        "url": "http://localhost:4000/",
        "logo": {
          "@type": "ImageObject",
          "url": "https://github.com/RiceAutoDrone.png"
        }
      }
    }
    </script>
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "BreadcrumbList",
      "itemListElement": [{
        "@type": "ListItem",
        "position": 1,
        "name": "Home",
        "item": "http://localhost:4000/"
      },{
        "@type": "ListItem",
        "position": 2,
        "name": "MavProxy Settings"
      }]
    }
    </script>
    <script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "name": "MavProxy Settings",
    "description": "Learn how to set up mavproxy - Reference
https://www.youtube.com/watch?v=nIuoCYauW3s
"
    }
}
</script><script type="application/ld+json">
{
  "@context" : "https://schema.org",
  "@type" : "Person",
  "homeLocation": {
    "@type": "Place",
    "name": "Houston, TX, US"
    },
  "description": "Publisher",
  "name" : "Yu Che Lin",
  "url" : "http://localhost:4000/"
}
</script>
   <title>MavProxy Settings | Rice Autodrone</title>
  <link rel="canonical" href="http://localhost:4000/raspberrypi_settings/02-mavproxy">
    <!-- Atom feed -->
  <link href="http://localhost:4000/atom.xml" type="application/atom+xml" rel="alternate" title="Atom feed Rice Autodrone" >
    <!-- RSS 2.0 feed -->
  <link href="http://localhost:4000/rss.xml" type="application/rss+xml" rel="alternate" title="RSS 2.0 feed Rice Autodrone" >
    <!-- Meta tags -->
   <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
   <meta name="author" content="Yu Che Lin" >
   <meta name="copyright" content="Yu Che Lin" >
   <meta name="description" content="Learn how to set up mavproxy - Reference
https://www.youtube.com/watch?v=nIuoCYauW3s
">
   <meta name="thumbnail" content="https://github.com/RiceAutoDrone.png" >
   <meta name="robots" content="index, follow"><meta name="keywords" content="">
    <!-- OpenGraph -->
   <meta property="og:title" content="MavProxy Settings | Rice Autodrone" >
   <meta property="og:site_name" content="Rice Autodrone | A MECE Capstone Project" >
   <meta property="og:url" content="http://localhost:4000/raspberrypi_settings/02-mavproxy" >
   <meta property="og:type" content="website" >
   <meta property="og:description" content="Learn how to set up mavproxy - Reference
https://www.youtube.com/watch?v=nIuoCYauW3s
" >
   <meta property="og:locale" content="en-US" >
   <meta property="og:image" content="https://github.com/RiceAutoDrone.png" >
    <!-- Twitter Cards -->
   <meta name="twitter:card" content="summary_large_image"><!-- start custom head snippets -->
<!-- this script is inserted before the css stylesheet -->
<!-- end custom head snippets -->
<!-- CSS -->
    <!-- Preconnect with Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com"> 
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <!-- Fontawesome-->
    <!-- v6 -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6/css/all.min.css">
  <link rel="preload" href="https://cdn.jsdelivr.net/gh/dieghernan/chulapa@master/assets/js/chulapa_script.js" as="script" >
  <link rel="preload" href="https://cdn.jsdelivr.net/gh/dieghernan/chulapa@master/assets/fonts/Chulapa/Chulapa-Bold_vmod.otf" as="font" type="font/otf" crossorigin>
    <!-- Theme css (Bootstrap included) -->
  <link rel="stylesheet" id="maincss" href="http://localhost:4000/assets/css/main.css" >
    <!-- Highlighter -->
  <link id="csshigh" rel="stylesheet" href="http://localhost:4000/assets/css/highlighter.css" >
    <!-- Custom css -->
  <link rel="stylesheet" href="http://localhost:4000/assets/css/custom.css" >
      <!-- start custom head snippets -->
<!-- insert favicons. use https://realfavicongenerator.net/ -->
<!-- end custom head snippets -->
</head>
<body class="d-flex flex-column h-entry" id="body">
	<a class="u-url d-none" href="http://localhost:4000/raspberrypi_settings/02-mavproxy">Invisible link to canonical for Microformats</a>
	<div class="navbar-chulapa-fab">
		<input type="checkbox" class="navbar-chulapa-fab-button d-none" id="navi-toggle">
		<label for="navi-toggle" class="navbar-toggler p-1 m-0 text-center d-flex">
			<span class="navbar-toggler-icon m-auto">&nbsp;</span>
		</label>
		<div class="navbar-chulapa-fab-background">&nbsp;</div>
		<nav class="navbar-chulapa-fab-nav" aria-label="primary-navigation">
			<ul class="navbar-nav text-center text-uppercase font-weight-light mt-0 mb-1 py-1">
				<li class="nav-item">
					<a class="nav-link px-3 navbar-brand mx-1 " href="http://localhost:4000/">Home</a>
				</li><li class="nav-item my-0 py-1">
					<a class="nav-link px-3 py-1" href="http://localhost:4000/blog">Blog</a>
				</li><li class="nav-item my-0 py-1">
					<a class="nav-link px-3 py-1" href="http://localhost:4000/flight_controller_settings">Flight Controller Settings</a>
				</li><li class="nav-item dropdown my-0 py-1"><a class="nav-link dropdown-toggle px-3 py-1  active font-weight-bold " href="#" id="Raspberry-Pi-Settings" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Raspberry Pi Settings</a>
					<div class="dropdown-menu dropdown-menu-right text-center rounded-0 pr-4" aria-labelledby="Raspberry-Pi-Settings"><a class="dropdown-item nav-link d-block px-3 small " href="http://localhost:4000/raspberrypi_settings">Index </a><a class="dropdown-item nav-link d-block px-3 small " href="http://localhost:4000/raspberrypi_settings/01-access-point">Access Point </a><a class="dropdown-item nav-link d-block px-3 small  active font-weight-bold " href="http://localhost:4000/raspberrypi_settings/02-mavproxy">Mavproxy <span class="sr-only">(current)</span></a><a class="dropdown-item nav-link d-block px-3 small " href="http://localhost:4000/raspberrypi_settings/03-git">Git </a><a class="dropdown-item nav-link d-block px-3 small " href="http://localhost:4000/raspberrypi_settings/04-dronekit">Dronkit </a></div>
				</li><li class="nav-item dropdown my-0 py-1"><a class="nav-link dropdown-toggle px-3 py-1 " href="#" id="About" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">About</a>
					<div class="dropdown-menu dropdown-menu-right text-center rounded-0 pr-4" aria-labelledby="About"><a class="dropdown-item nav-link d-block px-3 small " href="http://localhost:4000/license">License </a></div>
				</li><li class="nav-item my-0 py-1">
					<a class="nav-link px-3 py-1 " href="http://localhost:4000/search">Search</a>
				</li></ul>
		</nav>
	</div>	<header class="d-flex align-items-center hero-chulapa"><div class="container-lg py-4">
   <h1 class="p-name">MavProxy Settings</h1><hr class="my-3">
   <p class="chulapa-subtitle p-summary">Learn how to set up mavproxy</p>
 </div>
</header>
	<main class="container-lg pb-3 flex-fill">
		<div class="row pt-2">
			<aside class="col-lg-2 mt-lg-3 small"></aside>
			<article id="maincontent" class="col-lg-8 mt-3 e-content">
            <nav aria-label="table-of-contents">
			<ul class="chulapa-toc-wrapper list-group mb-5 mx-3 mx-lg-5" id="toc"><li class="list-group-item font-weight-bold py-1 pr-0 mr-0 chulapa-toc-reset"><a href="#reference">Reference</a></li><li class="list-group-item font-weight-bold py-1 pr-0 mr-0 chulapa-toc-reset"><a href="#setup-the-rpi-software-mavproxy">Setup the RPi Software (MAVProxy)</a><ul><li class="list-group-item font-weight-bold py-1 pr-0 mr-0 chulapa-toc-reset"><a href="#install">Install</a></li></ul></li><li class="list-group-item font-weight-bold py-1 pr-0 mr-0 chulapa-toc-reset"><a href="#checkpoint">Checkpoint</a></li></ul>
			</nav>
			 <h2 id="reference">Reference</h2>
<p><a href="https://www.youtube.com/watch?v=nIuoCYauW3s">https://www.youtube.com/watch?v=nIuoCYauW3s</a></p>
<h2 id="setup-the-rpi-software-mavproxy">Setup the RPi Software (MAVProxy)</h2>
<p>MAVProxy can be used to send commands to the flight controller from the Pi. It can also be used to route telemetry to other network endpoints.</p>
<p>This assumes you have a SSH connection to the Pi. If not, see see the the RPi Documentation.
See the MAVProxy Documentation for install instructions</p>
<h3 id="install">Install</h3>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo nano /boot/config.txt
</code></pre></div></div>
<p>add</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>enable_uart=1
dtoverlay=disable-bt
</code></pre></div></div>
<p>For Python 3 on Debian based systems (including Ubuntu, WSL, Raspian):</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo apt-get update 
sudo apt-get install python3-dev python3-opencv python3-wxgtk4.0 python3-pip python3-matplotlib python3-lxml libxml2-dev libxslt-dev
pip3 install PyYAML mavproxy --user
echo 'export PATH="$PATH:$HOME/.local/bin"' &gt;&gt; ~/.bashrc
sudo reboot
</code></pre></div></div>
<p>To test the RPi and flight controller are able to communicate with each other first ensure the RPi and flight controller are powered, then in a console on the RPi type:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>mavproxy.py --master=/dev/ttyAMA0 --aircraft MyCopter //--console
</code></pre></div></div>
<p>Once MAVProxy has started you should be able to type in the following command to display the ARMING_CHECK parameters value</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>param show ARMING_CHECK
param set ARMING_CHECK 0
arm throttle
</code></pre></div></div>
<p>Note</p>
<p>If you get an error about not being able to find log files or if this example otherwise doesn’t run properly, make sure that you haven’t accidentally assigned these files to another username, such as Root.</p>
<p>To run MAVProxy as a telemetry router on the Pi, set it up to run as a service and use the –daemon and –non-interactive parameters. For example:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>mavproxy.py --daemon --non-interactive --default-modules='' --continue --master=/dev/ttyAMA0 --out=udp:pro:14550
Note
</code></pre></div></div>
<p>If the Raspberry PI is heavily loaded, mavproxy.py might not provide a reliable connecton for telemetry routing. This is more likely on older/slower devices like the Raspberry PI Zero. If this happens, consider using mavlink-routerd. See this post on the ArduPilot forum for a detailed discussion: MavLink Routing with Router software.</p>
<h2 id="checkpoint">Checkpoint</h2>
<ul>
 <li><a href="">Image</a></li>
</ul>
			</article>
		</div>
	</main><nav aria-label="Navigation" class="container-lg chulapa-pagination  ">
 <ul class="col-lg-8 offset-lg-2 pagination chulapa-pagination-round px-0 ">
   <li class="page-item text-left mr-0 ">
      <a class="page-link border-0 px-4" href="http://localhost:4000/raspberrypi_settings/01-access-point" tabindex="-1">
	  <i class="fa fa-chevron-left" aria-hidden="true"></i><span class="sr-only">Previous</span>
	  </a>
   </li>
   <li class="page-item border-0 disabled text-left ml-0 mr-auto d-none d-md-inline ">
     <p class="page-link chulapa-label">Access Point</p>
   </li>
   <li class="page-item border-0 disabled text-left ml-0 mr-auto d-none d-sm-inline d-md-none ">
     <p class="page-link chulapa-label">Access Point</p>
   </li>
	 <li class="page-item disabled mx-auto invisible">
	  <p class="page-link">|</p>
	 </li>	
	 <li class="page-item border-0 disabled text-right mr-0 ml-auto d-none d-sm-inline d-md-none ">
	   <p class="page-link chulapa-label">Dronekit</p>
	 </li>
	 <li class="page-item border-0 disabled text-right mr-0 ml-auto d-none d-md-inline ">
	   <p class="page-link chulapa-label">Dronekit</p>
	 </li>
   <li class="page-item text-right ml-0 ">
      <a class="page-link border-0 px-4" href="http://localhost:4000/raspberrypi_settings/03-git">
	  <i class="fa fa-chevron-right" aria-hidden="true"></i><span class="sr-only">Next</span></a>
   </li>
 </ul>
</nav>
<!-- Footer -->
 <footer class="footer-chulapa text-center mt-0 pt-3">
   <div class="container">
     <div class="row">
       <div class="col-xl-10 offset-xl-1"><div role="navigation" class="d-flex flex-wrap justify-content-center"><a href="https://github.com/RiceAutoDrone/RiceAutoDrone.github.io.git" title="footerRepo on Github" class="chulapa-footer-sociallink lead"><span class="fa-stack fa-lg" aria-hidden="true">
                <i class="fa fa-circle fa-stack-2x"></i>
                <i class="fab fa-github fa-stack-1x fa-inverse"></i>
              </span><span class="sr-only">Repo on Github</span>
            </a><a href="http://localhost:4000/atom.xml" title="footerRSS" class="chulapa-footer-sociallink lead"><span class="fa-stack fa-lg" aria-hidden="true">
                <i class="fa fa-circle fa-stack-2x"></i>
                <i class="fa fa-rss fa-stack-1x fa-inverse"></i>
              </span><span class="sr-only">RSS</span>
            </a></div><p class="mt-2 mb-3">&copy; 2023 Yu Che Lin</p>
          <!-- Do not remove this in order to give  attributions -->
         <p class="chulapa-footer-brand">Powered by <a href="https://dieghernan.github.io/chulapa"> <span class="chulapa">Chulapa</span> Jekyll Theme</a><br><b>GitDev</b> skin by <a href="https://github.com/dieghernan">dieghernan</a></p>
          <!-- End  attributions -->
       </div>
     </div>
 </div>
</footer>
<!-- Footer -->
<!-- JS, Popper.js, and jQuery -->
	<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/gh/dieghernan/chulapa@master/assets/js/chulapa_script.js"></script>
	<!-- start custom scripts to be placed at the bottom of the page -->
<!-- end custom bottom scripts -->
	</body>
</html>
